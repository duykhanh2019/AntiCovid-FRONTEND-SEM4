<style>
	/* Chrome, Safari, Edge, Opera */
	input::-webkit-outer-spin-button,
	input::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	/* Firefox */
	input[type=number] {
		-moz-appearance: textfield;
	}

	.form-control:valid {
		background-image: none;
	}


	.form-control:is-invalid {
		background-image: none;
	}
</style>

<div class="row">
	<div class="col-lg-12">
		<ng-template #content let-c="close" let-d="dismiss">
			<div class="modal-header">
				<h4 class="modal-title">Thêm bệnh nhân</h4>
				<button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form name="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
					<div class="position-relative form-group">
						<label for="name">Họ và tên</label>
						<input name="name" id="name" formControlName="name" type="text" class="form-control"
							   [ngClass]="{ 'is-invalid': submitted && f.name.errors}" placeholder="BN-00" pattern="^(?=.[BN]).*$">
						<div *ngIf="submitted && f.name.errors" class="invalid-feedback">
							<div *ngIf="f.name.errors.required">Nhập tên bệnh nhân</div>
							<div *ngIf="f.name.errors.pattern">Nhập sai định dạng</div>
						</div>
					</div>
                    <div class="position-relative form-group">
                        <label for="address">Tỉnh/TP</label>
                        <input name="address" id="address" formControlName="address" type="text" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                        <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                            <div *ngIf="f.address.errors.required">Nhập địa điểm</div>
                        </div>
                    </div>
                    <div class="position-relative form-group">
                        <label for="lat">Vĩ độ</label>
                        <input name="lat" id="lat" formControlName="lat" type="text" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.lat.errors }">
                        <div *ngIf="submitted && f.lat.errors" class="invalid-feedback">
                            <div *ngIf="f.lat.errors.required">Nhập vĩ độ</div>
                        </div>
                    </div>
                    <div class="position-relative form-group">
                        <label for="lng">Kinh độ</label>
                        <input name="lng" id="lng" formControlName="lng" type="text" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.lng.errors }">
                        <div *ngIf="submitted && f.lng.errors" class="invalid-feedback">
                            <div *ngIf="f.lng.errors.required">Nhập kinh độ</div>
                        </div>
                    </div>
                    <div class="position-relative form-group">
                        <label for="patientGroup">Nhóm bệnh</label>
                        <input name="patientGroup" id="patientGroup" formControlName="patientGroup" type="text" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.patientGroup.errors }">
                        <div *ngIf="submitted && f.patientGroup.errors" class="invalid-feedback">
                            <div *ngIf="f.patientGroup.errors.required">Nhập nhóm bệnh nhân</div>
                        </div>
                    </div>
					<div class="position-relative form-group">
                        <label for="note">Ghi chú</label>
                        <input name="note" id="note" formControlName="note" type="text" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.note.errors }">
                        <div *ngIf="submitted && f.note.errors" class="invalid-feedback">
                            <div *ngIf="f.note.errors.required">Nhập nhóm bệnh nhân</div>
                        </div>
                    </div>
                    <div class="position-relative form-group">
                        <label for="verifyDate">Ngày tiếp nhận</label>
                        <input name="verifyDate" id="verifyDate" formControlName="verifyDate" type="date" class="form-control"
                               [ngClass]="{ 'is-invalid': submitted && f.verifyDate.errors }">
                        <div *ngIf="submitted && f.verifyDate.errors" class="invalid-feedback">
                            <div *ngIf="f.verifyDate.errors.required">Nhập ngày mắc bệnh</div>
                        </div>
                    </div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" (click)="c('Close click')">Hủy</button>
						<button type="submit" class="btn btn-primary">Thêm</button>
					</div>
				</form>
			</div>
		</ng-template>
		<div class="page-title-actions mb-3 text-right">
			<button type="button" class="btn-shadow d-inline-flex align-items-center btn btn-success" (click)="open(content)">
				<fa class="mr-2" name="plus"></fa>
				Thêm bệnh nhân
			</button>
		</div>
		<div class="main-card mb-3 card" >
			<div class="card-body">
				<table class="mb-0 table table-striped">
					<thead>
					<tr>
						<th>STT</th>
						<th>Tên</th>
						<th>Tỉnh</th>
						<th>Ghi chú</th>
						<th>Tác vụ</th>
					</tr>
					</thead>
					<tbody>
					<tr *ngFor="let item of datas | paginate: { itemsPerPage: 20, currentPage: p }; let i = index" >
						<!--						<th scope="row"></th>-->
						<td>{{ i + 1 }}</td>
						<td>{{item.patientName}}</td>
						<td>{{item.note}}</td>
						<td>{{item.createdAt}}</td>
<!--						<td><i class="vsm-icon pe-7s-trash ico-trash" (click)="Delete(item.id)"></i></td>-->
					</tr>
					</tbody>
					<p *ngIf="datas.length == 0" style="text-align: center;margin-top: 20px;font-size: large;"> Không có bệnh nhân nào ! </p>
				</table>
			</div>
		</div>
	</div>
</div>
<pagination-controls (pageChange)="p = $event"></pagination-controls>